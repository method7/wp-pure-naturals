jQuery(document).ready(function () { "use strict"; function e(e) { "Top" === avadaMenuVars.header_position && (jQuery(e).mouseenter(function () { jQuery(this).find("> div").length && 0 > jQuery(this).find("> div").offset().left && jQuery(this).find("> div").css({ left: "0", right: "auto" }), jQuery(this).find("> div").length && jQuery(this).find("> div").offset().left + jQuery(this).find("> div").width() > jQuery(window).width() && jQuery(this).find("> div").css({ left: "auto", right: "0" }) }), jQuery(window).on("resize", function () { jQuery(e).find("> div").each(function () { var e = jQuery(this), n = e.outerWidth(), i = e.offset().left, s = i + n, u = e.parent().offset().left, t = jQuery(window).width(); jQuery("body.rtl").length ? i == u && s > t || i < u && s + n > t ? e.css({ left: "auto", right: "0" }) : e.css({ left: "0", right: "auto" }) : i < u && 0 > i || i == u && 0 > i - n ? e.css({ left: "0", right: "auto" }) : e.css({ left: "auto", right: "0" }) }) })) } function n() { var e, n, i = jQuery(".fusion-header-has-flyout-menu"), s = 0, u = i.find(".fusion-header").offset().top, t = Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1366px) and (orientation: portrait)") || Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape)"), o = Modernizr.mq("only screen and (max-width: " + avadaMenuVars.side_header_break_point + "px)"); jQuery("body").bind("touchmove", function (e) { jQuery(e.target).parents(".fusion-flyout-menu").length || e.preventDefault() }), 1 <= jQuery(".fusion-mobile-menu-design-flyout").length ? (n = 1 <= jQuery(".fusion-is-sticky").length && 1 <= jQuery(".fusion-mobile-sticky-nav-holder").length ? i.find(".fusion-flyout-menu.fusion-mobile-sticky-nav-holder") : i.find(".fusion-flyout-menu:not(.fusion-mobile-sticky-nav-holder)"), i.find(".fusion-flyout-menu").css({ display: "none" }), n.css({ display: "flex" })) : n = i.find(".fusion-flyout-menu"), jQuery(".fusion-header-has-flyout-menu .fusion-secondary-header").length && (s = jQuery(".fusion-header-has-flyout-menu .fusion-secondary-header").outerHeight()), window.$wpadminbarHeight = jQuery("#wpadminbar").length ? jQuery("#wpadminbar").height() : 0, e = jQuery(".fusion-header-has-flyout-menu-content").height() + jQuery(".fusion-secondary-header").height() + window.$wpadminbarHeight, i.hasClass("fusion-flyout-menu-active") && (n.css({ height: "calc(100% - " + e + "px)", "margin-top": e }), n.find(".fusion-menu").height() > n.height() && n.css("display", "flex")), "0" == avadaMenuVars.header_sticky || t && "0" == avadaMenuVars.header_sticky_tablet || o && "0" == avadaMenuVars.header_sticky_mobile ? (i.find(".fusion-header").css({ position: "fixed", width: "100%", "max-width": "100%", top: window.$wpadminbarHeight + s, "z-index": "210" }), jQuery(".fusion-header-sticky-height").css({ display: "block", height: i.find(".fusion-header").outerHeight() })) : u > window.$wpadminbarHeight && (i.find(".fusion-header").css({ position: "fixed", top: window.$wpadminbarHeight + s }), jQuery(".layout-boxed-mode").length && i.find(".fusion-header").css("max-width", jQuery("#wrapper").outerWidth() + "px"), jQuery(".fusion-header-wrapper").css("height", "")) } function i() { setTimeout(function () { var e = jQuery(".fusion-header-has-flyout-menu"), n = 0, i = Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1366px) and (orientation: portrait)") || Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape)"), s = Modernizr.mq("only screen and (max-width: " + avadaMenuVars.side_header_break_point + "px)"); jQuery(".fusion-header-has-flyout-menu .fusion-secondary-header").length && (n = jQuery(".fusion-header-has-flyout-menu .fusion-secondary-header").outerHeight()), e.find(".fusion-flyout-menu").css("display", ""), "0" == avadaMenuVars.header_sticky || i && "0" == avadaMenuVars.header_sticky_tablet || s && "0" == avadaMenuVars.header_sticky_mobile ? (e.find(".fusion-header").attr("style", ""), jQuery(".fusion-header-sticky-height").attr("style", "")) : "fixed" === e.find(".fusion-header").css("position") && (e.find(".fusion-header").css("position", ""), e.find(".fusion-header").offset().top > n && e.find(".fusion-header").css("top", window.$wpadminbarHeight), jQuery(window).trigger("scroll")), jQuery("body").unbind("touchmove") }, 250) } function s() { jQuery(".fusion-main-menu-search").removeClass("fusion-main-menu-search-open").find(".fusion-custom-menu-item-contents").hide().find("style").remove(), jQuery(".fusion-mobile-menu-search").hide() } var u; jQuery(".fusion-dropdown-svg").length && jQuery(".fusion-dropdown-svg").each(function () { var e = jQuery(this).parents("li").find("> .sub-menu > li:first-child"); (jQuery(e).hasClass("current-menu-item") || jQuery(e).hasClass("current-menu-parent") || jQuery(e).hasClass("current_page_item")) && jQuery(this).addClass("fusion-svg-active"), jQuery(e).not(".current-menu-item, .current-menu-parent, .current_page_item").find("> a").on("hover", function () { jQuery(this).parents("li").find(".fusion-dropdown-svg").toggleClass("fusion-svg-active") }) }), jQuery.fn.fusion_position_menu_dropdown = function () { return "Top" === avadaMenuVars.header_position && !jQuery("body.rtl").length || "Left" === avadaMenuVars.header_position ? jQuery(this).children(".sub-menu").each(function () { var e, n, i, s, u, t, o, a, r, l, d, m, h, f = jQuery(this); f.removeAttr("style"), f.show(), f.removeData("shifted"), f.length && (n = (e = f.offset()).left, t = (i = e.top) + (s = f.height()), o = n + (u = f.outerWidth()), r = jQuery("#wpadminbar").length ? jQuery("#wpadminbar").height() : 0, d = (l = jQuery(window).scrollTop()) + jQuery(window).height(), o > jQuery(window).width() ? (f.addClass("fusion-switched-side"), f.parent().parent(".sub-menu").length ? f.css({ left: -1 * u }) : f.css("left", -1 * u + f.parent().width()), f.data("shifted", 1)) : f.parent().parent(".sub-menu").length && (f.removeClass("fusion-switched-side"), f.parent().parent(".sub-menu").data("shifted") && (f.css("left", -1 * u), f.data("shifted", 1))), "Top" !== avadaMenuVars.header_position && t > d && (a = s < d ? -1 * (t - d + 10) : -1 * (i - l - r), jQuery(".fusion-dropdown-svg").length && (f.find("> li > a").off("hover"), f.parents("li").find(".fusion-dropdown-svg").removeClass("fusion-svg-active"), a = (m = Math.floor(a / f.find("li").outerHeight())) * f.find("li").outerHeight(), h = f.find("> li:nth-child( " + (Math.abs(m) + 1) + ")"), (jQuery(h).hasClass("current-menu-item") || jQuery(h).hasClass("current-menu-parent") || jQuery(h).hasClass("current_page_item")) && f.parents("li").find(".fusion-dropdown-svg").addClass("fusion-svg-active"), jQuery(h).not(".current-menu-item, .current-menu-parent, .current_page_item").find("> a").on("hover", function () { f.parents("li").find(".fusion-dropdown-svg").toggleClass("fusion-svg-active") })), f.css("top", a))) }) : jQuery(this).children(".sub-menu").each(function () { var e, n, i, s, u, t, o, a, r, l, d, m, h, f; jQuery(this).removeAttr("style"), jQuery(this).removeData("shifted"), (e = jQuery(this)).length && (i = (n = e.offset()).left, s = n.top, u = e.height(), t = e.outerWidth(), o = s + u, a = jQuery("#wpadminbar").length ? jQuery("#wpadminbar").height() : 0, l = (r = jQuery(window).scrollTop()) + jQuery(window).height(), m = "right", 0 > i ? (e.addClass("fusion-switched-side"), e.parent().parent(".sub-menu").length ? i < t ? e.attr("style", m + ":" + -1 * t + "px !important") : e.css(m, -1 * t) : e.css(m, -1 * t + e.parent().width()), e.data("shifted", 1)) : e.parent().parent(".sub-menu").length && (e.removeClass("fusion-switched-side"), e.parent().parent(".sub-menu").data("shifted") && e.css(m, -1 * t)), "Top" !== avadaMenuVars.header_position && o > l && (d = u < l ? -1 * (o - l + 10) : -1 * (s - r - a), jQuery(".fusion-dropdown-svg").length && (e.find("> li > a").off("hover"), e.parents("li").find(".fusion-dropdown-svg").removeClass("fusion-svg-active"), d = (h = Math.floor(d / e.find("li").outerHeight())) * e.find("li").outerHeight(), f = e.find("> li:nth-child( " + (Math.abs(h) + 1) + ")"), (jQuery(f).hasClass("current-menu-item") || jQuery(f).hasClass("current-menu-parent") || jQuery(f).hasClass("current_page_item")) && e.parents("li").find(".fusion-dropdown-svg").addClass("fusion-svg-active"), jQuery(f).not(".current-menu-item, .current-menu-parent, .current_page_item").find("> a").on("hover", function () { e.parents("li").find(".fusion-dropdown-svg").toggleClass("fusion-svg-active") })), e.css("top", d))) }) }, jQuery.fn.walk_through_menu_items = function () { jQuery(this).fusion_position_menu_dropdown(), jQuery(this).find(".sub-menu").length && jQuery(this).find(".sub-menu li").walk_through_menu_items() }, jQuery.fn.position_cart_dropdown = function () { "Top" !== avadaMenuVars.header_position && jQuery(this).find(".fusion-menu-cart-items").each(function () { var e, n, i, s = jQuery(this), u = s.height(), t = jQuery("#wpadminbar").length ? jQuery("#wpadminbar").height() : 0, o = jQuery(window).scrollTop(), a = jQuery(window).height(), r = o + a; s.css("top", ""), (n = (e = s.offset().top) + u) > r && (i = u < a ? -1 * (n - r + 10) : -1 * (e - o - t), s.css("top", i)) }) }, jQuery.fn.position_menu_search_form = function () { "Top" !== avadaMenuVars.header_position && jQuery(this).each(function () { var e, n, i = jQuery(this), s = i.outerHeight(), u = jQuery(window).scrollTop() + jQuery(window).height(); i.css("top", ""), (e = i.offset().top + s) > u && (n = -1 * (e - u + 10), i.css("top", n)) }) }, jQuery.fn.fusion_position_megamenu = function () { var e, n, i, s, u, t; return jQuery(".side-header-left").length ? this.each(function () { jQuery(this).children("li").each(function () { var e, n, i, s, u, t, o, a, r = jQuery(this).find(".fusion-megamenu-wrapper"); r.length && (r.removeAttr("style"), e = jQuery("#side-header").outerWidth() - 1, s = (n = r.offset().top) + (i = r.height()), u = jQuery("#wpadminbar").length ? jQuery("#wpadminbar").height() : 0, t = jQuery(".side-header-wrapper").offset().top - u, o = jQuery(window).height(), jQuery("body.rtl").length ? r.css({ left: e, right: "auto" }) : r.css("left", e), s > t + o && jQuery(window).height() >= jQuery(".side-header-wrapper").height() && (a = i < o ? -1 * (s - t - o + 20) : -1 * (n - u), r.css("top", a))) }) }) : jQuery(".side-header-right").length ? this.each(function () { jQuery(this).children("li").each(function () { var e, n, i, s, u, t, o, a, r = jQuery(this).find(".fusion-megamenu-wrapper"); r.length && (r.removeAttr("style"), e = -1 * r.outerWidth(), s = (n = r.offset().top) + (i = r.height()), u = jQuery("#wpadminbar").length ? jQuery("#wpadminbar").height() : 0, t = jQuery(".side-header-wrapper").offset().top - u, o = jQuery(window).height(), jQuery("body.rtl").length ? r.css({ left: e, right: "auto" }) : r.css("left", e), s > t + o && jQuery(window).height() >= jQuery(".side-header-wrapper").height() && (a = i < o ? -1 * (s - t - o + 20) : -1 * (n - u), r.css("top", a))) }) }) : ("", e = jQuery(".fusion-header-v4").length ? jQuery(this).parent(".fusion-main-menu").parent() : jQuery(this).parent(".fusion-main-menu"), jQuery(this).parent(".fusion-main-menu").length ? (i = (n = e).offset(), s = n.width(), u = i.left, t = u + s, jQuery("body.rtl").length ? this.each(function () { jQuery(this).children("li").each(function () { var e, n = jQuery(this), i = n.offset().left + n.outerWidth(), s = n.find(".fusion-megamenu-wrapper"), o = s.outerWidth(), a = 0; s.length && (s.removeAttr("style"), e = jQuery(".fusion-secondary-main-menu").length ? jQuery(".fusion-header-wrapper .fusion-secondary-main-menu .fusion-row") : jQuery(".fusion-header-wrapper .fusion-row"), s.hasClass("col-span-12") && e.width() < s.data("maxwidth") ? s.css("width", e.width()) : s.removeAttr("style"), i - o < u && (a = -1 * (o - (i - u)), ("left" === avadaMenuVars.logo_alignment.toLowerCase() || "center" === avadaMenuVars.logo_alignment.toLowerCase() && !jQuery(".header-v5").length || jQuery(this).parents(".sticky-header").length) && i - a > t && (a = -1 * (t - i)), s.css("right", a))) }) }) : this.each(function () { jQuery(this).children("li").each(function () { var e = jQuery(this), n = e.offset(), i = e.find(".fusion-megamenu-wrapper"), s = i.outerWidth(), o = 0, a = 0; i.length && (i.removeAttr("style"), a = jQuery(".fusion-secondary-main-menu").length ? jQuery(".fusion-header-wrapper .fusion-secondary-main-menu .fusion-row") : jQuery(".fusion-header-wrapper .fusion-row"), i.hasClass("col-span-12") && a.width() < i.data("maxwidth") ? i.css("width", a.width()) : i.removeAttr("style"), s = i.outerWidth(), n.left + s > t && (o = -1 * (n.left - (t - s)), "right" === avadaMenuVars.logo_alignment.toLowerCase() && n.left + o < u && (o = -1 * (n.left - u)), i.css("left", o))) }) })) : void 0) }, jQuery.fn.calc_megamenu_responsive_column_widths = function () { jQuery(this).find(".fusion-megamenu-menu").each(function () { var e, n = jQuery(this).find(".fusion-megamenu-holder"), i = n.data("width"), s = (jQuery(".fusion-secondary-main-menu").length ? jQuery(".fusion-header-wrapper .fusion-secondary-main-menu .fusion-row") : jQuery(".fusion-header-wrapper .fusion-row")).width(); "Top" !== avadaMenuVars.header_position && (e = jQuery("#main").css("padding-left").replace("px", ""), s = jQuery(window).width() - e - jQuery("#side-header").outerWidth()), s < i ? (n.css("width", s), n.parents(".fusion-megamenu-wrapper").hasClass("fusion-megamenu-fullwidth") || n.find(".fusion-megamenu-submenu").each(function () { var e = jQuery(this), n = e.data("width") * s / i; e.css("width", n) })) : (n.css("width", i), n.parents(".fusion-megamenu-wrapper").hasClass("fusion-megamenu-fullwidth") || n.find(".fusion-megamenu-submenu").each(function () { jQuery(this).css("width", jQuery(this).data("width")) })) }) }, jQuery.fn.position_last_top_menu_item = function () { var e, n, i, s, u, t; (jQuery(this).children("ul").length || jQuery(this).children("div").length) && (n = (e = jQuery(this)).position().left, e.outerWidth(), u = (s = jQuery(".fusion-secondary-header .fusion-row")).position().left, t = s.outerWidth(), e.children("ul").length ? i = e.children("ul") : e.children("div").length && (i = e.children("div")), jQuery("body.rtl").length ? i.position().left < n && (i.css("left", "-1px").css("right", "auto"), i.find(".sub-menu").each(function () { jQuery(this).css("left", "100px").css("right", "auto") })) : n + i.outerWidth() > u + t && (i.css("right", "-1px").css("left", "auto"), i.find(".sub-menu").each(function () { jQuery(this).css("right", "100px").css("left", "auto") }))) }, jQuery(".fusion-main-menu > ul > li:last-child").addClass("fusion-last-menu-item"), jQuery.fn.fusion_position_menu_dropdown && (jQuery(".fusion-dropdown-menu, .fusion-dropdown-menu li").mouseenter(function () { s(), jQuery(this).fusion_position_menu_dropdown() }), jQuery(".fusion-dropdown-menu > ul > li").each(function () { jQuery(this).walk_through_menu_items() }), jQuery(window).on("resize", function () { jQuery(".fusion-dropdown-menu > ul > li").each(function () { jQuery(this).walk_through_menu_items() }) })), jQuery(".fusion-dropdown-menu").mouseenter(function () { jQuery(this).css("overflow", "visible") }), jQuery(".fusion-dropdown-menu, .fusion-megamenu-menu, .fusion-custom-menu-item ").mouseleave(function () { jQuery(this).css("overflow", ""), jQuery(".fusion-active-link").removeClass("fusion-active-link") }), jQuery("a").on("focus", function () { jQuery(".fusion-active-link ").removeClass("fusion-active-link"), jQuery(this).parents(".fusion-dropdown-menu, .fusion-main-menu-cart, .fusion-megamenu-menu, .fusion-custom-menu-item").length && (jQuery(this).parents("li").addClass("fusion-active-link"), jQuery(".fusion-main-menu").css("overflow", "visible")) }), jQuery(document).click(function () { jQuery(".fusion-main-menu-search .fusion-custom-menu-item-contents").hide(), jQuery(".fusion-main-menu-search").removeClass("fusion-main-menu-search-open"), jQuery(".fusion-main-menu-search").find("style").remove() }), jQuery(".fusion-main-menu-search").click(function (e) { e.stopPropagation() }), jQuery(".fusion-secondary-menu .fusion-bar-highlight").click(function (e) { s(), !1 === jQuery(this).parent("li").hasClass("menu-item-type-custom") && e.preventDefault() }), jQuery(".fusion-main-menu-search .fusion-main-menu-icon").click(function (e) { e.preventDefault(), e.stopPropagation(), "block" === jQuery(this).parent().find(".fusion-custom-menu-item-contents").css("display") ? (jQuery(this).parent().find(".fusion-custom-menu-item-contents").hide(), jQuery(this).parent().removeClass("fusion-main-menu-search-open"), jQuery(this).parent().find("style").remove()) : (jQuery(this).parent().find(".fusion-custom-menu-item-contents").removeAttr("style"), jQuery(this).parent().find(".fusion-custom-menu-item-contents").show(), jQuery(this).parent().addClass("fusion-main-menu-search-open"), jQuery(this).parent().append("<style>.fusion-main-menu{overflow:visible!important;</style>"), jQuery(this).parent().find(".fusion-custom-menu-item-contents .s").focus(), "Top" === avadaMenuVars.header_position && (!jQuery("body.rtl").length && 0 > jQuery(this).parent().find(".fusion-custom-menu-item-contents").offset().left && jQuery(this).parent().find(".fusion-custom-menu-item-contents").css({ left: "0", right: "auto" }), jQuery("body.rtl").length && jQuery(this).parent().find(".fusion-custom-menu-item-contents").offset().left + jQuery(this).parent().find(".fusion-custom-menu-item-contents").width() > jQuery(window).width() && jQuery(this).parent().find(".fusion-custom-menu-item-contents").css({ left: "auto", right: "0" }))) }), jQuery.fn.fusion_position_megamenu && (jQuery(".fusion-main-menu > ul").fusion_position_megamenu(), jQuery(".fusion-main-menu .fusion-megamenu-menu").mouseenter(function () { s(), jQuery(this).parent().fusion_position_megamenu() }), jQuery(window).resize(function () { jQuery(".fusion-main-menu > ul").fusion_position_megamenu() }), jQuery(".fusion-main-menu > ul a").on("click", function (e) { (jQuery(e.target).attr("aria-haspopup") || jQuery(e.target).parent().attr("aria-haspopup")) && e.preventDefault() })), jQuery.fn.calc_megamenu_responsive_column_widths && (jQuery(".fusion-main-menu > ul").calc_megamenu_responsive_column_widths(), jQuery(window).resize(function () { jQuery(".fusion-main-menu > ul").calc_megamenu_responsive_column_widths() })), jQuery(".fusion-header-wrapper .fusion-secondary-menu > ul > li:last-child").position_last_top_menu_item(), e(".fusion-main-menu .fusion-main-menu-cart"), e(".fusion-secondary-menu .fusion-menu-login-box"), jQuery(".fusion-megamenu-menu").mouseenter(function () { jQuery(this).find(".shortcode-map").length && jQuery(this).find(".shortcode-map").each(function () { jQuery(this).reinitializeGoogleMap() }) }), u = !1, jQuery(".fusion-megamenu-menu").mouseover(function () { jQuery(this).find(".fusion-megamenu-widgets-container iframe").each(function () { u || jQuery(this).attr("src", jQuery(this).attr("src")), u = !0 }) }), jQuery(".fusion-megamenu-wrapper iframe").mouseover(function () { jQuery(this).parents(".fusion-megamenu-widgets-container").css("display", "block"), jQuery(this).parents(".fusion-megamenu-wrapper").css({ opacity: "1", visibility: "visible" }) }), jQuery(".fusion-megamenu-wrapper iframe").mouseout(function () { jQuery(this).parents(".fusion-megamenu-widgets-container").css("display", ""), jQuery(this).parents(".fusion-megamenu-wrapper").css({ opacity: "", visibility: "" }) }), jQuery(".fusion-main-menu").on("mouseenter", ".fusion-menu-cart", function () { jQuery(this).position_cart_dropdown() }), jQuery(".fusion-main-menu .fusion-main-menu-search .fusion-main-menu-icon").click(function () { var e = jQuery(this); setTimeout(function () { e.parent().find(".fusion-custom-menu-item-contents").position_menu_search_form() }, 5) }), jQuery(window).on("resize", function () { jQuery(".fusion-main-menu .fusion-main-menu-search .fusion-custom-menu-item-contents").position_menu_search_form() }), jQuery(".fusion-mobile-nav-holder").not(".fusion-mobile-sticky-nav-holder").each(function () { var e, n = jQuery(this), i = "", s = ""; (e = jQuery(".fusion-mobile-navigation").length ? jQuery(this).parent().find(".fusion-mobile-navigation, .fusion-secondary-menu").not(".fusion-sticky-menu") : jQuery(this).parent().find(".fusion-main-menu, .fusion-secondary-menu").not(".fusion-sticky-menu")).length && ("classic" === avadaMenuVars.mobile_menu_design && (n.append('<button class="fusion-mobile-selector" aria-expanded="false"><span>' + avadaMenuVars.dropdown_goto + "</span></button>"), jQuery(this).find(".fusion-mobile-selector").append('<div class="fusion-selector-down"></div>')), jQuery(n).append(jQuery(e).find("> ul").clone()), s = (i = jQuery(n).find("> ul")).attr("id"), i.attr("id", "mobile-" + s), i.removeClass("fusion-middle-logo-ul"), "classic" === avadaMenuVars.mobile_menu_design && n.find(".fusion-mobile-selector").attr("aria-controls", i.attr("id")), i.find(".fusion-middle-logo-menu-logo, .fusion-caret, .fusion-menu-login-box .fusion-custom-menu-item-contents, .fusion-menu-cart .fusion-custom-menu-item-contents, .fusion-main-menu-search, li> a > span > .button-icon-divider-left, li > a > span > .button-icon-divider-right, .fusion-arrow-svg, .fusion-dropdown-svg").remove(), (jQuery(".no-mobile-slidingbar").length || "classic" !== avadaMenuVars.mobile_menu_design) && i.find(".fusion-main-menu-sliding-bar").remove(), "classic" === avadaMenuVars.mobile_menu_design ? i.find(".fusion-menu-cart > a").html(avadaMenuVars.mobile_nav_cart) : i.find(".fusion-main-menu-cart").remove(), i.find("li").each(function () { var e = "fusion-mobile-nav-item"; jQuery(this).data("classes") && (e += " " + jQuery(this).data("classes")), jQuery(this).find("img").hasClass("wpml-ls-flag") && (e += " wpml-ls-item"), jQuery(this).hasClass("menu-item-has-children") && (e += " menu-item-has-children"), jQuery(this).find("> a > .menu-text").removeAttr("class").addClass("menu-text"), (jQuery(this).hasClass("current-menu-item") || jQuery(this).hasClass("current-menu-parent") || jQuery(this).hasClass("current-menu-ancestor")) && (e += " fusion-mobile-current-nav-item"), jQuery(this).attr("class", e), jQuery(this).attr("id") && jQuery(this).attr("id", jQuery(this).attr("id").replace("menu-item", "mobile-menu-item")), jQuery(this).attr("style", "") }), jQuery(this).find(".fusion-mobile-selector").click(function () { i.hasClass("mobile-menu-expanded") ? (i.removeClass("mobile-menu-expanded"), jQuery(this).attr("aria-expanded", "false")) : (i.addClass("mobile-menu-expanded"), jQuery(this).attr("aria-expanded", "true")), i.slideToggle(200, "easeOutQuad"), jQuery(".fusion-mobile-menu-search").slideToggle(200, "easeOutQuad") })) }), jQuery(".fusion-mobile-sticky-nav-holder").each(function () { var e = jQuery(this), n = "", i = jQuery(this).parent().find(".fusion-sticky-menu"); "classic" === avadaMenuVars.mobile_menu_design && (e.append('<button class="fusion-mobile-selector" aria-expanded="false"><span>' + avadaMenuVars.dropdown_goto + "</span></button>"), jQuery(this).find(".fusion-mobile-selector").append('<div class="fusion-selector-down"></div>')), jQuery(e).append(jQuery(i).find("> ul").clone()), n = jQuery(e).find("> ul"), "classic" === avadaMenuVars.mobile_menu_design && e.find(".fusion-mobile-selector").attr("aria-controls", n.attr("id")), n.find(".fusion-middle-logo-menu-logo, .fusion-menu-cart, .fusion-menu-login-box, .fusion-main-menu-search, .fusion-arrow-svg, .fusion-dropdown-svg").remove(), (jQuery(".no-mobile-slidingbar").length || "classic" !== avadaMenuVars.mobile_menu_design) && n.find(".fusion-main-menu-sliding-bar").remove(), n.find(".fusion-button").attr("class", "menu-text"), n.find("li").each(function () { var e = "fusion-mobile-nav-item"; jQuery(this).data("classes") && (e += " " + jQuery(this).data("classes")), jQuery(this).find("img").hasClass("wpml-ls-flag") && (e += " wpml-ls-item"), (jQuery(this).hasClass("current-menu-item") || jQuery(this).hasClass("current-menu-parent") || jQuery(this).hasClass("current-menu-ancestor")) && (e += " fusion-mobile-current-nav-item"), jQuery(this).attr("class", e), jQuery(this).attr("id") && jQuery(this).attr("id", jQuery(this).attr("id").replace("menu-item", "mobile-menu-item")), jQuery(this).attr("style", "") }), jQuery(this).find(".fusion-mobile-selector").click(function () { n.hasClass("mobile-menu-expanded") ? (n.removeClass("mobile-menu-expanded"), jQuery(this).attr("aria-expanded", "false")) : (n.addClass("mobile-menu-expanded"), jQuery(this).attr("aria-expanded", "true")), n.slideToggle(200, "easeOutQuad"), jQuery(".fusion-mobile-menu-search").slideToggle(200, "easeOutQuad") }) }), jQuery(".fusion-mobile-nav-holder > ul > li").each(function () { jQuery(this).find(".fusion-megamenu-widgets-container").remove(), jQuery(this).find(".fusion-megamenu-holder > ul").each(function () { jQuery(this).attr("class", "sub-menu"), jQuery(this).attr("style", ""), jQuery(this).find("> li").each(function () { var e, n = "fusion-mobile-nav-item"; jQuery(this).data("classes") && (n += " " + jQuery(this).data("classes")), jQuery(this).find("img").hasClass("wpml-ls-flag") && (n += " wpml-ls-item"), (jQuery(this).hasClass("current-menu-item") || jQuery(this).hasClass("current-menu-parent") || jQuery(this).hasClass("current-menu-ancestor") || jQuery(this).hasClass("fusion-mobile-current-nav-item")) && (n += " fusion-mobile-current-nav-item"), jQuery(this).hasClass("menu-item-has-children") && (n += " menu-item-has-children"), jQuery(this).attr("class", n), jQuery(this).find(".fusion-megamenu-title a, > a").length || (jQuery(this).find(".fusion-megamenu-title").each(function () { jQuery(this).children("a").length || jQuery(this).append('<a href="#">' + jQuery(this).text() + "</a>") }), jQuery(this).find(".fusion-megamenu-title").length || (e = jQuery(this), jQuery(this).find(".sub-menu").each(function () { e.after(jQuery(this)) }), jQuery(this).remove())), jQuery(this).prepend(jQuery(this).find(".fusion-megamenu-title a, > a")), jQuery(this).find(".fusion-megamenu-title").remove() }), jQuery(this).closest(".fusion-mobile-nav-item").append(jQuery(this)) }), jQuery(this).find(".fusion-megamenu-wrapper, .caret, .fusion-megamenu-bullet").remove() }), jQuery(".fusion-is-sticky").length && jQuery(".fusion-mobile-sticky-nav-holder").length ? jQuery(".fusion-mobile-menu-icons .fusion-icon-bars").attr("aria-controls", jQuery(".fusion-mobile-sticky-nav-holder > ul").attr("id")) : jQuery(".fusion-mobile-menu-icons .fusion-icon-bars").attr("aria-controls", jQuery(".fusion-mobile-nav-holder").not(".fusion-mobile-sticky-nav-holder").find("> ul").attr("id")), jQuery(window).scroll(function () { setTimeout(function () { jQuery(".fusion-is-sticky").length && jQuery(".fusion-mobile-sticky-nav-holder").length ? jQuery(".fusion-mobile-menu-icons .fusion-icon-bars").attr("aria-controls", jQuery(".fusion-mobile-sticky-nav-holder > ul").attr("id")) : jQuery(".fusion-mobile-menu-icons .fusion-icon-bars").attr("aria-controls", jQuery(".fusion-mobile-nav-holder").not(".fusion-mobile-sticky-nav-holder").find("> ul").attr("id")) }, 50) }), jQuery(".fusion-mobile-menu-icons .fusion-icon-bars").click(function (e) { var n, i; s(), e.preventDefault(), n = 1 <= jQuery(".fusion-header-v4").length || 1 <= jQuery(".fusion-header-v5").length ? ".fusion-secondary-main-menu" : 1 <= jQuery("#side-header").length ? "#side-header" : ".fusion-header", (i = 1 <= jQuery(".fusion-is-sticky").length && 1 <= jQuery(".fusion-mobile-sticky-nav-holder").length ? jQuery(n).find(".fusion-mobile-sticky-nav-holder") : jQuery(n).find(".fusion-mobile-nav-holder").not(".fusion-mobile-sticky-nav-holder")).slideToggle(200, "easeOutQuad"), i.toggleClass("fusion-mobile-menu-expanded"), i.hasClass("fusion-mobile-menu-expanded") ? jQuery(this).attr("aria-expanded", "true") : jQuery(this).attr("aria-expanded", "false") }), jQuery(".fusion-mobile-menu-icons .fusion-icon-search").click(function (e) { e.preventDefault(), jQuery(".fusion-mobile-menu-search").slideToggle(200, "easeOutQuad"), jQuery(".fusion-mobile-nav-holder.fusion-mobile-menu-expanded").hide().removeClass("fusion-mobile-menu-expanded") }), jQuery('.fusion-mobile-nav-holder .fusion-mobile-nav-item a:not([href="#"])').click(function () { "" !== jQuery(this.hash).length && this.hash.slice(1) && (jQuery(this).parents(".fusion-mobile-menu-design-classic").length ? (jQuery(this).parents(".fusion-menu, .menu").hide().removeClass("mobile-menu-expanded"), jQuery(".fusion-mobile-menu-search").hide()) : jQuery(this).parents(".fusion-mobile-nav-holder").hide()) }), 1 == avadaMenuVars.submenu_slideout && "flyout" !== avadaMenuVars.mobile_menu_design && (jQuery(".fusion-mobile-nav-holder > ul li").each(function () { var e, n, i = "fusion-mobile-nav-item", s = jQuery(this).find(" > ul"); jQuery(this).data("classes") && (i += " " + jQuery(this).data("classes")), jQuery(this).find("img").hasClass("wpml-ls-flag") && (i += " wpml-ls-item"), (jQuery(this).hasClass("current-menu-item") || jQuery(this).hasClass("current-menu-parent") || jQuery(this).hasClass("current-menu-ancestor") || jQuery(this).hasClass("fusion-mobile-current-nav-item")) && (i += " fusion-mobile-current-nav-item"), jQuery(this).hasClass("menu-item-has-children") && (i += " menu-item-has-children"), jQuery(this).attr("class", i), s.length && (n = void 0 !== (e = jQuery(this).find("> a")).attr("title") ? " " + e.attr("title") : " " + e.children(".menu-text").clone().children().remove().end().text(), e.after('<button href="#" aria-label="' + avadaMenuVars.mobile_submenu_open + n + '" aria-expanded="false" class="fusion-open-submenu"></button>'), e.click(function (e) { e.preventDefault(), jQuery(this).next(".fusion-open-submenu").trigger("click") }), s.hide()) }), jQuery(".fusion-mobile-nav-holder .fusion-open-submenu").click(function (e) { var n = jQuery(this).parent().children(".sub-menu"), i = jQuery(this).parent().children("a"), s = void 0 !== i.attr("title") ? " " + i.attr("title") : " " + i.children(".menu-text").clone().children().remove().end().text(); e.stopPropagation(), n.slideToggle(200, "easeOutQuad"), n.toggleClass("fusion-sub-menu-open"), n.hasClass("fusion-sub-menu-open") ? (jQuery(this).attr("aria-label", avadaMenuVars.mobile_submenu_close + s), jQuery(this).attr("aria-expanded", "true")) : (jQuery(this).attr("aria-label", avadaMenuVars.mobile_submenu_open + s), jQuery(this).attr("aria-expanded", "false")) }), jQuery(".fusion-mobile-nav-holder a").click(function (e) { "#" === jQuery(this).attr("href") && ("modal" === jQuery(this).data("toggle") ? jQuery(this).trigger("show.bs.modal") : (e.preventDefault(), e.stopPropagation()), jQuery(this).next(".fusion-open-submenu").trigger("click")) })), jQuery(".fusion-flyout-menu-icons .fusion-flyout-menu-toggle").on("click", function (e) { var s = jQuery(".fusion-header-has-flyout-menu"); e.preventDefault(), s.hasClass("fusion-flyout-active") ? (s.hasClass("fusion-flyout-search-active") ? (s.addClass("fusion-flyout-menu-active"), n()) : (s.removeClass("fusion-flyout-active"), s.removeClass("fusion-flyout-menu-active"), i()), s.removeClass("fusion-flyout-search-active")) : (s.addClass("fusion-flyout-active"), s.addClass("fusion-flyout-menu-active"), n()) }), jQuery(".fusion-flyout-menu-icons .fusion-flyout-search-toggle").on("click", function (e) { var s = jQuery(".fusion-header-has-flyout-menu"); e.preventDefault(), s.hasClass("fusion-flyout-active") ? (s.hasClass("fusion-flyout-menu-active") ? (s.addClass("fusion-flyout-search-active"), Modernizr.mq("only screen and (min-width:" + parseInt(avadaMenuVars.side_header_break_point, 10) + "px)") && s.find(".fusion-flyout-search .s").focus()) : (s.removeClass("fusion-flyout-active"), s.removeClass("fusion-flyout-search-active"), i()), s.removeClass("fusion-flyout-menu-active")) : (s.addClass("fusion-flyout-active"), s.addClass("fusion-flyout-search-active"), Modernizr.mq("only screen and (min-width:" + parseInt(avadaMenuVars.side_header_break_point, 10) + "px)") && s.find(".fusion-flyout-search .s").focus(), n()) }), jQuery("html").on("mouseenter", ".fusion-no-touch .fusion-flyout-menu .menu-item a", function () { jQuery(this).parents(".fusion-flyout-menu").find(".fusion-flyout-menu-backgrounds #item-bg-" + jQuery(this).parent().data("item-id")).addClass("active") }), jQuery("html").on("mouseleave", ".fusion-no-touch .fusion-flyout-menu .menu-item a", function () { jQuery(this).parents(".fusion-flyout-menu").find(".fusion-flyout-menu-backgrounds #item-bg-" + jQuery(this).parent().data("item-id")).removeClass("active") }), jQuery(window).resize(function () { jQuery(".fusion-mobile-menu-design-flyout").hasClass("fusion-flyout-active") && Modernizr.mq("screen and (min-width: " + (parseInt(avadaHeaderVars.side_header_break_point, 10) + 1) + "px)") && jQuery(".fusion-flyout-menu-icons .fusion-flyout-menu-toggle").trigger("click") }) }), jQuery(window).load(function () { function e() { var e = 0; Modernizr.mq("only screen and (max-width: " + avadaMenuVars.side_header_break_point + "px)") ? (jQuery(".fusion-secondary-menu > ul").children("li").each(function () { e += jQuery(this).outerWidth(!0) + 2 }), e > jQuery(window).width() && 318 < jQuery(window).width() ? window.mobileMenuSepAdded || (jQuery(".fusion-secondary-menu > ul").append('<div class="fusion-mobile-menu-sep"></div>'), jQuery(".fusion-secondary-menu > ul").css("position", "relative"), jQuery(".fusion-mobile-menu-sep").css({ position: "absolute", top: jQuery(".fusion-secondary-menu > ul > li").height() - 1 + "px", width: "100%", "border-bottom-width": "1px", "border-bottom-style": "solid" }), window.mobileMenuSepAdded = !0) : (jQuery(".fusion-secondary-menu > ul").css("position", ""), jQuery(".fusion-secondary-menu > ul").find(".fusion-mobile-menu-sep").remove(), window.mobileMenuSepAdded = !1)) : (jQuery(".fusion-secondary-menu > ul").css("position", ""), jQuery(".fusion-secondary-menu > ul").find(".fusion-mobile-menu-sep").remove(), window.mobileMenuSepAdded = !1) } window.mobileMenuSepAdded = !1, e(), "classic" === avadaMenuVars.mobile_menu_design && (jQuery(".sh-mobile-nav-holder").append('<div class="mobile-selector"><span>' + avadaMenuVars.dropdown_goto + "</span></div>"), jQuery(".sh-mobile-nav-holder .mobile-selector").append('<div class="selector-down"></div>')), jQuery(".sh-mobile-nav-holder").append(jQuery(".nav-holder .fusion-navbar-nav").clone()), jQuery(".sh-mobile-nav-holder .fusion-navbar-nav").attr("id", "mobile-nav"), jQuery(".sh-mobile-nav-holder ul#mobile-nav").removeClass("fusion-navbar-nav"), jQuery(".sh-mobile-nav-holder ul#mobile-nav").children(".cart").remove(), jQuery(".sh-mobile-nav-holder ul#mobile-nav .mobile-nav-item").children(".login-box").remove(), jQuery(".sh-mobile-nav-holder ul#mobile-nav li").children("#main-nav-search-link").each(function () { jQuery(this).parents("li").remove() }), jQuery(".sh-mobile-nav-holder ul#mobile-nav").find("li").each(function () { var e = "mobile-nav-item"; (jQuery(this).hasClass("current-menu-item") || jQuery(this).hasClass("current-menu-parent") || jQuery(this).hasClass("current-menu-ancestor")) && (e += " mobile-current-nav-item"), jQuery(this).attr("class", e), jQuery(this).attr("id") && jQuery(this).attr("id", jQuery(this).attr("id").replace("menu-item", "mobile-menu-item")), jQuery(this).attr("style", "") }), jQuery(".sh-mobile-nav-holder .mobile-selector").click(function () { jQuery(".sh-mobile-nav-holder #mobile-nav").hasClass("mobile-menu-expanded") ? jQuery(".sh-mobile-nav-holder #mobile-nav").removeClass("mobile-menu-expanded") : jQuery(".sh-mobile-nav-holder #mobile-nav").addClass("mobile-menu-expanded"), jQuery(".sh-mobile-nav-holder #mobile-nav").slideToggle(200, "easeOutQuad") }), 1 == avadaMenuVars.submenu_slideout && (jQuery(".header-wrapper .mobile-topnav-holder .mobile-topnav li, .header-wrapper .mobile-nav-holder .navigation li, .sticky-header .mobile-nav-holder .navigation li, .sh-mobile-nav-holder .navigation li").each(function () { var e = "mobile-nav-item"; (jQuery(this).hasClass("current-menu-item") || jQuery(this).hasClass("current-menu-parent") || jQuery(this).hasClass("current-menu-ancestor") || jQuery(this).hasClass("mobile-current-nav-item")) && (e += " mobile-current-nav-item"), jQuery(this).attr("class", e), jQuery(this).find(" > ul").length && (jQuery(this).prepend('<span href="#" aria-haspopup="true" class="open-submenu"></span>'), jQuery(this).find(" > ul").hide()) }), jQuery(".header-wrapper .mobile-topnav-holder .open-submenu, .header-wrapper .mobile-nav-holder .open-submenu, .sticky-header .mobile-nav-holder .open-submenu, .sh-mobile-nav-holder .open-submenu").click(function (e) { e.stopPropagation(), jQuery(this).parent().children(".sub-menu").slideToggle(200, "easeOutQuad") })), ("ontouchstart" in document.documentElement || navigator.msMaxTouchPoints) && (jQuery(".fusion-main-menu li.menu-item-has-children > a, .fusion-secondary-menu li.menu-item-has-children > a, .order-dropdown > li .current-li").on("click", function () { var e = jQuery(this); return e.hasClass("hover") ? (e.removeClass("hover"), !0) : (e.addClass("hover"), jQuery(".fusion-main-menu li.menu-item-has-children > a, .fusion-secondary-menu li.menu-item-has-children > a, .order-dropdown > li .current-li").not(this).removeClass("hover"), !1) }), jQuery(".sub-menu li, .fusion-mobile-nav-item li").not("li.menu-item-has-children").on("click", function () { var e = jQuery(this).find("a").attr("href"); return "_blank" !== jQuery(this).find("a").attr("target") && (0 < e.indexOf("#") && (e = "/" === e.charAt(e.indexOf("#") - 1) ? e.replace("#", "#_") : e.replace("#", "/#_")), window.location = e), !0 })), jQuery(".fusion-main-menu li.menu-item-has-children > a, .fusion-secondary-menu li.menu-item-has-children > a, .side-nav li.page_item_has_children > a").each(function () { jQuery(this).attr("aria-haspopup", "true") }), 1 <= jQuery(".megaResponsive").length && jQuery(".mobile-nav-holder.main-menu").addClass("set-invisible"), "Top" === avadaMenuVars.header_position && jQuery(window).on("resize", function () { jQuery(".main-nav-search").each(function () { var e, n, i, s, u, t; jQuery(this).hasClass("search-box-open") && (n = (e = jQuery(this).find(".main-nav-search-form")).outerWidth(), s = (i = e.offset().left) + n, u = e.parent().offset().left, t = jQuery(window).width(), jQuery("body.rtl").length ? i == u && s > t || i < u && s + n > t ? e.css({ left: "auto", right: "0" }) : e.css({ left: "0", right: "auto" }) : i < u && 0 > i || i == u && 0 > i - n ? e.css({ left: "0", right: "auto" }) : e.css({ left: "auto", right: "0" })) }) }), jQuery(window).on("resize", function () { e() }), jQuery(".fusion-custom-menu-item").on("hover", function (e) { var n = jQuery(this), i = n.find(".fusion-custom-menu-item-contents"); i.find("input").click(function () { n.addClass("fusion-active-login"), n.closest(".fusion-main-menu").css("overflow", "visible") }), i.find("input").on("change", function (e) { n.hasClass("fusion-active-login") && (n.removeClass("fusion-active-login").addClass("fusion-active-link"), n.closest(".fusion-main-menu").css("overflow", "")) }) }), jQuery(document).click(function (e) { "fusion-custom-menu-item-contents" !== e.target.className && "input-text" !== e.target.className && (jQuery(".fusion-custom-menu-item-contents").parents(".fusion-custom-menu-item").removeClass("fusion-active-login").removeClass("fusion-active-link"), jQuery(".fusion-main-menu").css("overflow", "")) }) });